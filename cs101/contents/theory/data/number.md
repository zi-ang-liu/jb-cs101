# 記数法

現代のコンピューターで、すべてのデータはバイナリー（0と1）で表現される。これは、高電圧信号と低電圧信号の2つの状態を利用しているためである。低電圧信号は0、高電圧信号は1として扱われる。

コンピューターはどのように働くかを理解するためには、2進数の理解が不可欠である。また、8進数や16進数も、2進数との関係が深く、コンピューターでもよく使用される。

ここでは、10進数、2進数、8進数、16進数の記数法について学ぶ。学習の目標は以下の通りである：

- 位取り記数法が理解できる
- 任意の記数法から10進数への変換ができる
- 10進数から他の記数法への変換ができる
- 2進数、8進数、16進数の相互変換ができる

## 10進数

私たちが普段使う10進法は、0から9の数字を用いて数を表現する。また、10進法では、各数字の位置によってその値が決まる。例えば、数「123」は、1が100の位、2が10の位、3が1の位にある。
このように、各数字の位置によってその値が決まる記数法を**位取り記数法**（positional notation、いどりきすうほう）と呼ぶ。

<!-- :::{note}
古代中国では、算木を使って計算を行っていた。最も古い位取り記数法の一つである。
::: -->

例えば、10進数の123は以下のように表現される：

$$
123 = 1 \times 10^2 + 2 \times 10^1 + 3 \times 10^0
$$

一般的に、$d_n$をn桁目の数字、$N$を10進数の数とすると、以下の式が成り立つ：

$$
N_{10} = d_n \times 10^{n-1} + d_{n-1} \times 10^{n-2} + \ldots + d_1 \times 10^0
$$

## 他の記数法

**底**（base）は、使用する数字の種類を示す。10進法では0から9までの10種類の数字を使用するため、底は10である。

- **2進法**では0と1の2種類の数字を使用し、底は2である。
- **8進法**では0から7までの8種類の数字を使用し、底は8である。
- **16進法**では0から9とAからFまでの16種類の数字を使用し、底は16である。

コンピューターサイエンスにおいて、2進法は最も重要である。2進法は、2を底とする位取り記数法であり、0と1を使用し、数を表現する。そのため、0, 1の次には1桁を追加して10となり、次は11、100、101と続く。

以下に、10進数、2進数、8進数、16進数の対応表を示す：

| 10進数 | 2進数 | 8進数 | 16進数 |
| ------ | ----- | ----- | ------ |
| 0      | 0     | 0     | 0      |
| 1      | 1     | 1     | 1      |
| 2      | 10    | 2     | 2      |
| 3      | 11    | 3     | 3      |
| 4      | 100   | 4     | 4      |
| 5      | 101   | 5     | 5      |
| 6      | 110   | 6     | 6      |
| 7      | 111   | 7     | 7      |
| 8      | 1000  | 10    | 8      |
| 9      | 1001  | 11    | 9      |
| 10     | 1010  | 12    | A      |
| 11     | 1011  | 13    | B      |
| 12     | 1100  | 14    | C      |
| 13     | 1101  | 15    | D      |
| 14     | 1110  | 16    | E      |
| 15     | 1111  | 17    | F      |

ここからは、下付き文字を用いて、それぞれの数の底を示すことにする。例えば、2進数の101は、$\texttt{101}_2$と表記する。10進数の123は、$\texttt{123}_{10}$と表記する。

### やってみよう

10進数の1~10を3進数で書いてみよう。

## 他の記数法から10進数への変換

上記の表を見るとわかるように、2進数2桁目の1は10進数の2で、3桁目の1は10進数の$2^2$である。つまり、2進数を10進数に変換する際は、下記のように計算することができる：

$$
d_n \times 2^{n-1} + d_{n-1} \times 2^{n-2} + \ldots + d_1 \times 2^0 = N_{10}
$$

例えば、2進数の$1001_2$を10進数に変換する場合、以下のように計算する：

$$
1001_2 = 1 \times 2^3 + 0 \times 2^2 + 0 \times 2^1 + 1 \times 2^0 = 9_{10}
$$

$d_n$をn桁目の数字、$R$を底、$N$を10進数の数とすると、以下の式が成り立つ：

$$
N_{10} = d_n \times R^{n-1} + d_{n-1} \times R^{n-2} + \ldots + d_1 \times R^0
$$

また、以下のように書くこともできる：

$$
N_{10} = \sum_{i=1}^{n} d_i \times R^{i-1}
$$

例えば、3進数の$102_3$を10進数に変換する場合、以下のように計算する：

$$
102_3 = 1 \times 3^2 + 0 \times 3^1 + 2 \times 3^0 = 11_{10}
$$

また、16進数の$\texttt{1A3F}_{16}$を10進数に変換する場合、以下のように計算する：

$$
\texttt{1A3F}_{16} = 1 \times 16^3 + 10 \times 16^2 + 3 \times 16^1 + 15 \times 16^0 = 6719_{10}
$$

これは、16進数のAが10に相当し、Fが15に相当するからである。

### 練習問題

次の数を10進数に変換せよ。
- $1101_2$
- $973_8$
- $\texttt{2F3}_{16}$

## 2進法、8進法、16進法

2進法、8進法、16進法は、全て2の累乗を底とする記数法であるため、変換は簡単に行える。

| 2進数 | 16進数 |
| ----- | ------ |
| 0000  | 0      |
| 0001  | 1      |
| 0010  | 2      |
| 0011  | 3      |
| 0100  | 4      |
| 0101  | 5      |
| 0110  | 6      |
| 0111  | 7      |
| 1000  | 8      |
| 1001  | 9      |
| 1010  | A      |
| 1011  | B      |
| 1100  | C      |
| 1101  | D      |
| 1110  | E      |
| 1111  | F      |

2進数の4桁ごとに16進数の1桁に対応する。例えば、2進数の$1010110_2$は、4桁ごとに区切ると$0101\ 0110$となり、これを16進数に変換すると$56_{16}$となる。

16進数を2進数に変換する場合は、各16進数の桁を4桁の2進数に変換すればよい。例えば、16進数の$\texttt{1A3F}_{16}$は、以下のように変換される：

$$
\texttt{1A3F}_{16} = 0001\ 1010\ 0011\ 1111_2
$$

8進法も同様に、3桁の2進数に対応する。

| 2進数 | 8進数 |
| ----- | ----- |
| 000   | 0     |
| 001   | 1     |
| 010   | 2     |
| 011   | 3     |
| 100   | 4     |
| 101   | 5     |
| 110   | 6     |
| 111   | 7     |

2進数の3桁ごとに8進数の1桁に対応する。例えば、

$$
1010110_2 = 001\ 010\ 110_2 = 126_8
$$

### 練習問題

次の数を16進数と8進数に変換せよ。
- $11010110_2$
- $101110011_2$
- $1111000100101001_2$

次の数を2進数に変換せよ。
- $\texttt{1A3F}_{16}$
- $\texttt{7B2}_{16}$
- $\texttt{35}_{8}$

## 10進数から他の記数法への変換

10進数から他の記数法への変換は、下記の手順で行うことができる：

1. 与えられた値を２で割った商と余りを求める。
2. 商が0になるまで繰り返す。
3. 商が0になったら、余りを逆順に並べる。

:::{note}
このようなある問題を解決する手順を**アルゴリズム**と呼ぶ。

このアルゴリズムは、特定の条件（商が0になるまで）を満たすまで繰り返し処理を行う。これは、**反復構造**（iterative structure）と呼ばれる。

アルゴリズムは、コンピューターサイエンスや経営工学の分野では中心的な概念でる。大学4年間、経営システム工学科では、さまざまな問題解決のためのアルゴリズムを学ぶことになる。
:::

例えば、10進数の$113_{10}$を2進数に変換する場合、以下のように計算する：

$$
113 \div 2 = 56 \quad R_1 = 1 \\
56 \div 2 = 28 \quad R_2 = 0 \\
28 \div 2 = 14 \quad R_3 = 0 \\
14 \div 2 = 7 \quad R_4 = 0 \\
7 \div 2 = 3 \quad R_5 = 1 \\
3 \div 2 = 1 \quad R_6 = 1 \\
1 \div 2 = 0 \quad R_7 = 1
$$

余りを逆順に並べると、$1110001_2$となる。

検算として、$1110001_2$を10進数に戻すと：

$$
1110001_2 = 2^6 + 2^5 + 2^4 + 2^0 = 113_{10}
$$

もう一つの例として、10進数の$268_{10}$を16進数に変換する場合、以下のように計算する：

$$
268 \div 16 = 16 \quad R_1 = 12 \\
16 \div 16 = 1 \quad R_2 = 0 \\
1 \div 16 = 0 \quad R_3 = 1
$$

余りを逆順に並べると、$\texttt{10C}_{16}$となる。

### 練習問題

次の10進数を2進数、8進数、16進数に変換せよ。

- $45_{10}$
- $100_{10}$
- $255_{10}$